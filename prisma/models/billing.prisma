model Subscription {
  id                   String              @id @default(uuid()) 
  clinicId             String?             @unique 
  stripeCustomerId     String?             @unique 
  stripeSubscriptionId String?             @unique
  plan                 Plan?
  status               SubscriptionStatus?
  currentPeriodStart   DateTime?           
  currentPeriodEnd     DateTime?           
  createdAt            DateTime?           @default(now()) 
  updatedAt            DateTime?           @updatedAt 

  clinic Clinic? @relation(fields: [clinicId], references: [id])

  @@map("subscriptions")
}

model Invoice {
  id              String    @id @default(uuid()) 
  clinicId        String?    
  stripeInvoiceId String?   @unique 
  invoiceNo       String?  
  amountDue       Int?      
  amountPaid      Int?      
  currency        String?  
  status          String?  
  invoicePdfUrl   String?   
  createdAt       DateTime? @default(now())  

  clinic Clinic? @relation(fields: [clinicId], references: [id])

  @@map("invoices")
}

model NotificationQueue {
  id        String              @id @default(uuid()) 
  clinicId  String?              
  type      NotificationType?
  recipient String?            
  payload   Json?               
  status    NotificationStatus?
  sentAt    DateTime?          
  createdAt DateTime?           @default(now()) 

  clinic Clinic? @relation(fields: [clinicId], references: [id])

  @@map("notification_queues")
}
model StaffPersonalInfo {
  id               String         @id @default(uuid())
  doctorId         String?        @unique
  employmentId     String?        @unique
  firstName        String
  lastName         String
  dob              DateTime
  gender           Gender
  photo            String?
  email            String
  phone            String
  presentAddress   String
  permanentAddress String?
  maritalStatus    MaritalStatus?
  state            String
  postalCode       String
  country          String
  nationality      String
  nationalIdNumber String?

  emergencyContactName         String?
  emergencyContactPhone        String?
  emergencyContactRelationship String?

  createdAt DateTime? @default(now())
  updatedAt DateTime? @updatedAt

  // Relations
  employmentInfo StaffEmploymentInfo? @relation(fields: [employmentId], references: [id])
  doctor         Doctor?              @relation(fields: [doctorId], references: [id])

  @@map("staff_personal_info")
}

model StaffEmploymentInfo {
  id             String          @id @default(uuid())
  doctorId       String?         @unique
  department     Department?
  position       String?
  description    String?
  joinDate       DateTime?
  employmentType EmploymentType?
  workSchedule   String?
  weeklyHours    Int?
  employmentStatus StaffStatus?

  createdAt        DateTime?    @default(now())
  updatedAt        DateTime?    @updatedAt

  // Reverse relation to PersonalInfo
  personalInfo StaffPersonalInfo?

  doctor Doctor? @relation(fields: [doctorId], references: [id])

  @@map("staff_employment_info")
}

model Task {
  id          String      @id @default(uuid())
  title       String?
  description String?
  status      TaskStatus?
  priority    Priority?
  dueDate     DateTime?

  patientId String?
  
  createdAt DateTime? @default(now())
  updatedAt DateTime? @updatedAt
  deletedAt DateTime?

  patient        Patient? @relation(fields: [patientId], references: [id])

  @@map("tasks")
}
